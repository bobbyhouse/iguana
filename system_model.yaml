version: 1
generated_at: "2026-02-19T07:00:02Z"
inputs:
    bundle_set_sha256: 2fa0dda1b4356f1fb373f4860d84206e2c0992a3ed5591edbce19a16a066fc30
inventory:
    packages:
        - name: evidence
          files:
            - internal/evidence/generate.go
          imports:
            - settings
          evidence_refs:
            - bundle:internal/evidence/generate.go
        - name: main
          files:
            - cmd/iguana/main.go
          imports:
            - evidence
            - model
            - obsidian
          evidence_refs:
            - bundle:cmd/iguana/main.go
        - name: model
          files:
            - internal/model/model.go
          imports:
            - evidence
            - settings
          evidence_refs:
            - bundle:internal/model/model.go
        - name: obsidian
          files:
            - internal/obsidian/vault.go
          imports:
            - model
          evidence_refs:
            - bundle:internal/obsidian/vault.go
        - name: settings
          files:
            - internal/settings/settings.go
          evidence_refs:
            - bundle:internal/settings/settings.go
    entrypoints:
        - package: main
          symbol: main
          evidence_refs:
            - bundle:cmd/iguana/main.go#symbol:main
state_domains:
    - id: configuration_management
      description: Application settings and permissions configuration
      owners:
        - settings
      aggregate: Settings
      representations:
        - Permissions
      primary_mutators:
        - LoadSettings
      primary_readers:
        - IsDenied
        - LoadSettings
      evidence_refs:
        - bundle:internal/settings/settings.go
      confidence: 0.8
    - id: evidence_management
      description: Management of code analysis evidence bundles containing package metadata, symbols, and call graphs
      owners:
        - evidence
      aggregate: EvidenceBundle
      representations:
        - FileMeta
        - PackageMeta
        - Symbols
      primary_mutators:
        - CreateEvidenceBundle
        - WriteEvidenceBundle
      primary_readers:
        - CreateEvidenceBundle
      evidence_refs:
        - bundle:internal/evidence/generate.go
      confidence: 0.9
    - id: system_modeling
      description: System architecture models derived from evidence analysis including domains, boundaries, and trust zones
      owners:
        - model
      aggregate: SystemModel
      representations:
        - Boundaries
        - Inventory
        - StateDomain
      primary_mutators:
        - GenerateSystemModel
        - WriteSystemModel
      primary_readers:
        - ReadSystemModel
        - SystemModelUpToDate
      evidence_refs:
        - bundle:internal/model/model.go
      confidence: 0.9
boundaries:
    persistence:
        - kind: fs
          writers:
            - file: internal/evidence/generate.go
              evidence_refs:
                - bundle:internal/evidence/generate.go#signal:fs_writes
            - file: internal/model/model.go
              evidence_refs:
                - bundle:internal/model/model.go#signal:fs_writes
            - file: internal/obsidian/vault.go
              evidence_refs:
                - bundle:internal/obsidian/vault.go#signal:fs_writes
effects:
    - kind: fs_read
      domain: evidence_management
      via: internal/evidence/generate.go
      evidence_refs:
        - bundle:internal/evidence/generate.go#signal:fs_reads
    - kind: fs_read
      domain: system_modeling
      via: internal/model/model.go
      evidence_refs:
        - bundle:internal/model/model.go#signal:fs_reads
    - kind: fs_read
      domain: configuration_management
      via: internal/settings/settings.go
      evidence_refs:
        - bundle:internal/settings/settings.go#signal:fs_reads
    - kind: fs_write
      domain: evidence_management
      via: internal/evidence/generate.go
      evidence_refs:
        - bundle:internal/evidence/generate.go#signal:fs_writes
    - kind: fs_write
      domain: system_modeling
      via: internal/model/model.go
      evidence_refs:
        - bundle:internal/model/model.go#signal:fs_writes
    - kind: fs_write
      via: internal/obsidian/vault.go
      evidence_refs:
        - bundle:internal/obsidian/vault.go#signal:fs_writes
trust_zones:
    - id: internal
      packages:
        - evidence
        - model
        - obsidian
        - settings
      evidence_refs:
        - bundle:internal/evidence/generate.go
        - bundle:internal/model/model.go
        - bundle:internal/obsidian/vault.go
        - bundle:internal/settings/settings.go
open_questions:
    - question: How are evidence bundles persisted and what is their lifecycle management strategy?
      related_domain: evidence_management
      missing_evidence:
        - cleanup_policies
        - persistence_layer
    - question: What external systems or APIs does the system interact with beyond filesystem operations?
      related_domain: system_modeling
      missing_evidence:
        - external_dependencies
        - network_calls
